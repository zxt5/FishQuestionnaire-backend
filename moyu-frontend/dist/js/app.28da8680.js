(function(t){function e(e){for(var i,a,r=e[0],c=e[1],l=e[2],u=0,p=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},s={app:0},o=[];function a(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"31ae1724"}[t]+".js"}function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(t){var e=[],n=s[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=s[t]=[e,i]}));e.push(n[2]=i);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=a(t);var l=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=s[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",l.name="ChunkLoadError",l.type=i,l.request=o,n[1](l)}s[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"0427":function(t,e,n){"use strict";n("8a64")},"0bc4":function(t,e,n){},"0f97":function(t,e,n){"use strict";n("c9d3")},"150e":function(t,e,n){},"166f":function(t,e,n){"use strict";n("e39d")},"1dd7":function(t,e,n){"use strict";n("e617")},"274e":function(t,e,n){},3652:function(t,e,n){"use strict";n("274e")},"3cb1":function(t,e,n){},"3fc4":function(t,e,n){},"44ae":function(t,e,n){"use strict";n("e33b")},"44b9":function(t,e,n){"use strict";n("77af")},"46ee":function(t,e,n){},"50d7":function(t,e,n){"use strict";n("630e")},"534f":function(t,e,n){t.exports=n.p+"img/logo1.7c329b7e.png"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("div",{staticClass:"index_swiper"},[n("Swiper")],1),n("transition",[t.isRouterAlive?n("router-view"):t._e()],1)],1)},o=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"main-swiper"},t._l(t.bannerList,(function(e,i){return n("li",{key:e.id,staticClass:"swiper-item",class:{isShow:i===t.isShowBg}},[n("img",{staticClass:"bg-item",attrs:{src:e.url,alt:""}})])})),0)},r=[],c={name:"Swiper",data:function(){return{bannerList:[{id:0,url:"https://z3.ax1x.com/2021/06/17/2jnzin.jpg"},{id:1,url:"https://z3.ax1x.com/2021/06/17/2juuz6.jpg"},{id:2,url:"https://z3.ax1x.com/2021/06/17/2ju6Fs.jpg"},{id:3,url:"https://z3.ax1x.com/2021/06/17/2juLSx.jpg"},{id:4,url:"https://z3.ax1x.com/2021/06/17/2juHYR.jpg"},{id:5,url:"https://z3.ax1x.com/2021/06/17/2jKZnS.jpg"}],isShowBg:0,count:.01,timeId:null}},mounted:function(){this.bgSwiper()},methods:{bgSwiper:function(){var t=this;this.timeId=setInterval((function(){t.isShowBg<t.bannerList.length-1?t.isShowBg++:t.isShowBg=0}),6e3)}},beforeDestroy:function(){clearInterval(this.timeId),this.timeId=null}},l=c,u=(n("add9"),n("2877")),d=Object(u["a"])(l,a,r,!1,null,"11468544",null),p=d.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("el-menu",{staticClass:"el-menu-demo",attrs:{router:"","default-active":t.$route.path,mode:"horizontal","background-color":"#fff","text-color":"#333","active-text-color":"#3F87DA"},on:{select:t.handleSelect}},[n("h1",[n("a",{staticClass:"logo",style:{backgroundImage:"url("+t.bg+")"},on:{click:function(e){return t.$router.push({path:"/index"})}}})]),n("el-menu-item",{attrs:{index:"/index"},on:{click:t.toIndex}},[t._v("我的问卷")]),n("el-menu-item",{attrs:{index:"/fill/1"},on:{click:function(e){return t.$router.push({path:"/fill/1"})}}},[t._v("填写问卷")]),n("el-menu-item",{attrs:{index:"/check/1"},on:{click:function(e){return t.$router.push({path:"/check/1"})}}},[t._v("预览问卷")]),n("el-menu-item",{attrs:{index:"/questionnairs"},on:{click:function(e){return t.$router.push({path:"/questionnairs"})}}},[t._v("创建问卷")]),n("div",{staticClass:"user"},[t.hasLogin?n("el-dropdown",{on:{command:t.handleCommand}},[n("span",{staticClass:"el-dropdown-link",on:{click:function(t){}}},[n("el-avatar",[t._v(t._s(t.username))])],1),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"logout"}},[t._v("注销登录")])],1)],1):n("span",{staticClass:"el-dropdown-link",on:{click:t.goLogin}},[n("el-avatar",[t._v("登录")])],1)],1)],1)],1)},m=[],h=(n("ac1f"),n("841c"),n("b0c0"),n("bc3a")),v=n.n(h),g=n("1da1");n("96cf"),n("a9e3");function b(){return _.apply(this,arguments)}function _(){return _=Object(g["a"])(regeneratorRuntime.mark((function t(){var e,n,i,s,o,a,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=localStorage,n=!1,i=e.getItem("username.myblog"),s=Number(e.getItem("expiredTime.myblog")),o=(new Date).getTime(),a=e.getItem("refresh.myblog"),!(s>o)){t.next=11;break}n=!0,console.log("authorization access"),t.next=34;break;case 11:if(null===a){t.next=31;break}return t.prev=12,t.next=15,v.a.post("/api/token/refresh/",{refresh:a});case 15:r=t.sent,c=Date.parse(r.headers.date)+6e6,e.setItem("access.myblog",r.data.access),e.setItem("expiredTime.myblog",c),e.removeItem("refresh.myblog"),n=!0,console.log("authorization refresh"),t.next=29;break;case 24:t.prev=24,t.t0=t["catch"](12),e.clear(),n=!1,console.log("authorization err");case 29:t.next=34;break;case 31:e.clear(),n=!1,console.log("authorization exp");case 34:return console.log("authorization done"),t.abrupt("return",[n,i]);case 36:case"end":return t.stop()}}),t,null,[[12,24]])}))),_.apply(this,arguments)}var y=b,x={name:"Header",data:function(){return{bg:n("5fbe"),activeIndex:1,hasLogin:!1,search:"",avatar:"",username:"",id:""}},methods:{handleSelect:function(t,e){console.log(t,e)},handleCommand:function(t){"logout"===t?this.logout():"createBlog"===t?this.$router.push({path:"/edit/blog"}):"toCenter"===t?this.$router.push({path:"/center/"+this.username}):"messageList"===t?this.$router.push({path:"/messageList"}):this.$message("click on item "+t)},goLogin:function(){this.$router.push({path:"/login",query:{from:this.$route.path}})},logout:function(){localStorage.clear(),this.$router.push({path:"/login"}),this.$notify.success({title:"登出成功",message:"欢迎下次光临"})},toIndex:function(){this.$router.push({path:"/index"})},toSearch:function(){""===this.search?this.$notify.warning({title:"别搞",message:"搜索不能为空哦"}):this.$router.push({path:"/search/"+this.search})},myPre:function(){var t=this;y().then((function(e){t.hasLogin=e[0],e[0]&&v.a.get("/api/user/"+e[1]+"/").then((function(e){var n=e.data;t.username=n.username.substr(0,2).toUpperCase()})).catch((function(e){t.$notify.error({title:"好像发生什么错误",message:e.message})}))}))}},mounted:function(){this.myPre()},watch:{$route:function(t,e){"Home"!==t.name&&"Index"!==t.name&&"Login"!==t.name&&"index"!==t.name||this.myPre()}}},k=x,q=(n("44ae"),Object(u["a"])(k,f,m,!1,null,"02de82ed",null)),w=q.exports,C={name:"App",components:{Header:w,Swiper:p},provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick((function(){this.isRouterAlive=!0}))}}},$=C,F=(n("034f"),Object(u["a"])($,s,o,!1,null,null,null)),S=F.exports,D=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("LoginBlock")],1)},j=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",{staticClass:"card"},[n("div",[n("h2",[n("figure",{style:{backgroundImage:"url("+t.bg+")"}})]),n("el-form",{ref:"form",staticClass:"demo-form",attrs:{model:t.form,"status-icon":"",rules:t.rules,"label-width":"0"}},[n("el-form-item",{attrs:{prop:"user"}},[n("el-input",{attrs:{type:"text",placeholder:"请输入用户名",clearable:""},model:{value:t.form.user,callback:function(e){t.$set(t.form,"user",e)},expression:"form.user"}},[n("i",{staticClass:"el-input__icon iconfont el-icon-user",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-form-item",{attrs:{prop:"pass"}},[n("el-input",{attrs:{type:"password",placeholder:"请输入密码",clearable:""},nativeOn:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitForm("form")}},model:{value:t.form.pass,callback:function(e){t.$set(t.form,"pass",e)},expression:"form.pass"}},[n("i",{staticClass:"el-input__icon iconfont el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v("登录")])],1)],1),n("div",{staticClass:"msg"},[t._v(" 没有账号？"),n("a",{on:{click:function(e){return t.$router.push({path:"/register"})}}},[t._v("立即注册>")])])])},R=[],Q={name:"Login_Block",inject:["reload"],data:function(){var t=this,e=function(e,n,i){""===n?i(new Error("密码不能为空")):(""!==t.form.checkPass&&t.$refs.form.validateField("checkPass"),i())},i=function(t,e,n){""===e?n(new Error("用户名不能为空")):n()};return{bg:n("534f"),form:{user:"",pass:""},rules:{pass:[{validator:e,trigger:"blur"}],user:[{validator:i,trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return e.$alert("请再仔细看一下","存在错误",{confirmButtonText:"确认"}).then((function(){e.$message({type:"info",message:"重新尝试"})})),console.log("error submit!!"),!1;e.signIn()}))},resetForm:function(t){this.$refs[t].resetFields()},signIn:function(){var t=this;v.a.post("/api/token/",{username:t.form.user,password:t.form.pass}).then((function(e){var n=localStorage,i=Date.parse(e.headers.date)+6e6;n.setItem("access.myblog",e.data.access),n.setItem("refresh.myblog",e.data.refresh),n.setItem("expiredTime.myblog",i),n.setItem("username.myblog",t.form.user),n.setItem("identity.myblog",e.data.identity),t.$router.push({path:"/index"}),location.reload()})).catch((function(e){console.log(e.response),t.$notify.error({title:"用户名不存在或密码错误！"})}))}}},I=Q,L=(n("3652"),Object(u["a"])(I,O,R,!1,null,"0f21fcf4",null)),E=L.exports,P={name:"Login",components:{LoginBlock:E,Header:w},methods:{}},z=P,B=Object(u["a"])(z,V,j,!1,null,"1027f6ac",null),T=B.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("RegisterBlock")],1)},J=[],N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",{staticClass:"card"},[n("div",[n("h2",[n("figure",{style:{backgroundImage:"url("+t.bg+")"}})]),n("el-form",{ref:"form",staticClass:"demo-form",attrs:{model:t.form,"status-icon":"",rules:t.rules,"label-width":"0"}},[n("el-form-item",{attrs:{prop:"user"}},[n("el-input",{attrs:{type:"text",placeholder:"请输入用户名",clearable:""},model:{value:t.form.user,callback:function(e){t.$set(t.form,"user",e)},expression:"form.user"}},[n("i",{staticClass:"el-input__icon iconfont el-icon-user",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-form-item",{attrs:{prop:"pass"}},[n("el-input",{attrs:{type:"password",placeholder:"请输入密码",clearable:""},model:{value:t.form.pass,callback:function(e){t.$set(t.form,"pass",e)},expression:"form.pass"}},[n("i",{staticClass:"el-input__icon iconfont el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-form-item",{attrs:{prop:"checkPass"}},[n("el-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:t.form.checkPass,callback:function(e){t.$set(t.form,"checkPass",e)},expression:"form.checkPass"}},[n("i",{staticClass:"el-input__icon iconfont el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v("注册")])],1)],1),n("div",{staticClass:"msg"},[t._v(" 已有账号？"),n("a",{on:{click:function(e){return t.$router.push({path:"/login"})}}},[t._v("立即登录>")])])])},U=[],H={name:"Register_Block",data:function(){var t=this,e=function(t,e,n){""===e?n(new Error("你的用户名呢")):n()},i=function(e,n,i){""===n?i(new Error("你的密码呢")):(""!==t.form.checkPass&&t.$refs.form.validateField("checkPass"),i())},s=function(e,n,i){""===n?i(new Error("再输一次密码呗")):n!==t.form.pass?i(new Error("两次输入密码不一致!")):i()};return{bg:n("534f"),form:{user:"",pass:"",checkPass:""},Response:null,rules:{user:[{validator:e,trigger:"blur"}],pass:[{validator:i,trigger:"blur"}],checkPass:[{validator:s,trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return e.$alert("宝批龙大不同，再仔细看一哈","存在错误",{confirmButtonText:"我错了"}).then((function(){e.$message({type:"info",message:"再给你一次机会"})})),console.log("error submit!!"),!1;e.signup()}))},resetForm:function(t){this.$refs[t].resetFields()},signup:function(){var t=this;v.a.post("/api/user/",{username:this.form.user,password:this.form.pass}).then((function(e){t.Response=e.data,alert("用户注册成功，快去登录吧！"),t.$router.push({path:"/login"})})).catch((function(e){console.log(e.response);var n="";if(void 0!==e.response.data.username&&e.response.data.username.length>0){var i=1;n=e.response.data.username[0];while(i<e.response.data.username.length)n=n+"\r\n"+e.response.data.username[i],i++}if(void 0!==e.response.data.password&&e.response.data.password.length>0){i=1;n=e.response.data.password[0];while(i<e.response.data.password.length)n=n+"\r\n"+e.response.data.password[i],i++}t.$notify.error({title:"好像发生什么错误",message:n})}))}}},M=H,G=(n("0427"),Object(u["a"])(M,N,U,!1,null,"326d59e2",null)),K=G.exports,W={name:"Register",components:{RegisterBlock:K,Header:w},methods:{}},Y=W,Z=Object(u["a"])(Y,A,J,!1,null,"3861441a",null),X=Z.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-container",{staticClass:"main"},[n("el-container",[n("el-aside",{staticStyle:{height:"fit-content"},attrs:{width:"23%"}},[n("el-container",{staticClass:"class"},[n("div",{staticStyle:{"margin-left":"0px"},on:{click:t.editQues}},[n("el-button",{staticClass:"button",attrs:{circle:""}},[n("i",{staticClass:"el-icon-edit"})]),n("h4",[t._v("创建问卷")])],1)]),n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","default-active":t.$route.path}},[n("el-menu-item",{attrs:{index:"/questionnaires"},on:{click:function(e){return t.toQuestionnaire()}}},[n("i",{staticClass:"el-icon-document"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("个人问卷")])]),n("el-menu-item",{attrs:{index:"/recycle"},on:{click:function(e){return t.toRecycleBin()}}},[n("i",{staticClass:"el-icon-delete"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("回收站")])])],1)],1),n("el-main",[n("router-view")],1)],1)],1)],1)},et=[],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"questionnaire",attrs:{direction:"vertical"}},[n("div",[n("h2",{staticClass:"title",staticStyle:{"min-width":"800px"}},[t._v("问卷列表")]),t.info.length?t._e():n("div",{staticClass:"not_found"},[t._v(" 别看啦 这里啥也没有 "),n("i",{staticClass:"el-icon-cold-drink"})]),t._l(t.info.slice(4*(t.page-1),4*t.page),(function(e,i){return n("div",{key:i,staticClass:"a_block"},[n("h1",{on:{click:function(n){return t.toCheck(e.id)}}},["closed"===e.status?n("el-tag",{staticClass:"label"},[t._v("未发布")]):t._e(),"shared"===e.status?n("el-tag",{staticClass:"label",attrs:{type:"success"}},[t._v("已发布")]):t._e(),n("span",{staticStyle:{display:"inline-block",width:"3px"}}),n("a",[t._v(t._s(e.title))])],1),n("div",{staticStyle:{float:"right !important"}},[n("v-icon",{staticStyle:{"vertical-align":"center"},attrs:{small:""}},[t._v("mdi-file-document-multiple-outline")]),t._v(" "+t._s(e.answer_num)+" ")],1),n("div",{staticClass:"intro"},[t._v(t._s(e.content))]),n("div",{staticClass:"footer"},[n("div",{staticClass:"op cur_def"},[n("ul",["closed"===e.status?n("li",{on:{click:function(n){return t.Start(e.id)}}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-motion-play-outline")]),t._v(" 发布")],1):t._e(),"shared"===e.status?n("li",{on:{click:function(n){return t.Close(e.id)}}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-stop-circle-outline")]),t._v(" 停止")],1):t._e(),n("li",[n("v-icon",{attrs:{small:""}},[t._v("mdi-content-copy")]),t._v(" 复制")],1),n("li",{on:{click:function(n){return t.Delete(e.id)}}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-delete-variant")]),t._v(" 删除")],1)]),n("el-dropdown",{staticStyle:{"margin-top":"5px"},on:{command:t.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[t._v(" 更多"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"a"}},[t._v("编辑")]),n("el-dropdown-item",{attrs:{command:"b"}},[t._v("分享")]),n("el-dropdown-item",{attrs:{command:"e",divided:""}},[t._v("统计")])],1)],1),n("div",{staticClass:"created"},[t._v(" "+t._s(t.formatted_time(e.create_date))+" ")])],1)]),n("div",{staticClass:"clear_both"})])})),0!==t.pageLength?n("div",{staticClass:"text-center"},[n("v-app",[n("v-container",[n("v-row",{staticStyle:{"justify-content":"center"},attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"8"}},[n("v-container",{staticClass:"max-width"},[n("v-pagination",{attrs:{length:t.pageLength,"total-visible":t.pageVisible},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)],1)],1)],1):t._e()],2)])},it=[],st={inject:["reload"],data:function(){return{info:[],page:1,itemPerpage:4,pageLength:0,pageVisible:7}},methods:{formatted_time:function(t){var e=new Date(t);return e.toLocaleDateString()+" "+e.toLocaleTimeString()},toCheck:function(t){this.$router.push({path:"/check/"+t})},handleCommand:function(t){this.$message("click on item "+t)},Start:function(t){var e=this;v.a.put("api/questionnaire/"+t+"/status/",{status:"shared"}).then((function(t){e.$notify.success({title:"问卷成功发布!",message:"您可以进行分享"}),e.reload(),e.$alert("这是链接和二维码","分享",{confirmButtonText:"确定"})})).catch((function(t){e.$notify.error({title:"出错啦",message:"发布问卷失败"})}))},Close:function(t){var e=this;v.a.put("api/questionnaire/"+t+"/status/",{status:"closed"}).then((function(t){e.$notify.success({title:"问卷已关闭!",message:""}),e.reload()})).catch((function(t){e.$notify.error({title:"出错啦",message:"关闭问卷失败"})}))},Delete:function(t){var e=this;this.$confirm("您确定要删除该问卷吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){v.a.put("api/questionnaire/"+t+"/status/",{status:"deleted"}).then((function(t){e.$notify.success({title:"问卷成功删除!",message:"您可以到回收站中恢复问卷"}),e.reload()})).catch((function(t){e.$notify.error({title:"出错啦",message:"删除问卷失败"})}))}))}},mounted:function(){var t=this;y().then((function(e){e[0]&&v.a.get("/api/user/"+e[1]+"/questionnaire/").then((function(e){t.info=e.data,t.pageLength=parseInt((t.info.length+t.itemPerpage-1)/t.itemPerpage)})).catch((function(e){t.$notify.error({title:"好像发生了什么错误",message:e.message})}))}))}},ot=st,at=(n("9d5c"),n("0f97"),n("6544")),rt=n.n(at),ct=n("7496"),lt=n("62ad"),ut=n("a523"),dt=n("132d"),pt=n("891e"),ft=n("0fd9"),mt=Object(u["a"])(ot,nt,it,!1,null,"2fed51b0",null),ht=mt.exports;rt()(mt,{VApp:ct["a"],VCol:lt["a"],VContainer:ut["a"],VIcon:dt["a"],VPagination:pt["a"],VRow:ft["a"]});var vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"questionnaire",attrs:{direction:"vertical"}},[n("div",[n("h2",{staticClass:"title",staticStyle:{"min-width":"800px"}},[t._v("回收站")]),t.info.length?t._e():n("div",{staticClass:"not_found"},[t._v(" 别看啦 这里啥也没有 "),n("i",{staticClass:"el-icon-cold-drink"})]),t._l(t.info.slice(4*(t.page-1),4*t.page),(function(e,i){return n("div",{key:i,staticClass:"a_block"},[n("h1",{on:{click:function(n){return t.toDiscuss(e.id)}}},[n("el-tag",{staticClass:"label",attrs:{type:"danger"}},[t._v("已删除")]),n("span",{staticStyle:{display:"inline-block",width:"3px"}}),n("a",[t._v(t._s(e.title))])],1),n("div",{staticStyle:{float:"right !important"}},[n("v-icon",{staticStyle:{"vertical-align":"center"},attrs:{small:""}},[t._v("mdi-file-document-multiple-outline")]),t._v(" "+t._s(e.answer_num)+" ")],1),n("div",{staticClass:"intro"},[t._v(t._s(e.content))]),n("div",{staticClass:"footer"},[n("div",{staticClass:"op cur_def"},[n("ul",[n("li",{on:{click:function(n){return t.Return(e.id)}}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-autorenew")]),t._v(" 恢复")],1),n("li",{on:{click:function(n){return t.Delete4ever(e.id)}}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-delete-off-outline")]),t._v(" 彻底删除")],1)]),n("div",{staticClass:"created"},[t._v(" "+t._s(t.formatted_time(e.create_date))+" ")])])]),n("div",{staticClass:"clear_both"})])})),0!==t.pageLength?n("div",{staticClass:"text-center"},[n("v-app",[n("v-container",[n("v-row",{staticStyle:{"justify-content":"center"},attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"8"}},[n("v-container",{staticClass:"max-width"},[n("v-pagination",{attrs:{length:t.pageLength,"total-visible":t.pageVisible},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)],1)],1)],1):t._e()],2)])},gt=[],bt={inject:["reload"],data:function(){return{info:[],page:1,itemPerpage:4,pageLength:0,pageVisible:7}},methods:{formatted_time:function(t){var e=new Date(t);return e.toLocaleDateString()+" "+e.toLocaleTimeString()},toDiscuss:function(t){this.$router.push({path:"/discuss/"+t})},toCenter:function(t){this.$router.push({path:"/center/"+t})},handleCommand:function(t){this.$message("click on item "+t)},Return:function(t){var e=this;v.a.put("api/questionnaire/"+t+"/status/",{status:"closed"}).then((function(t){e.$notify.success({title:"问卷成功恢复!",message:"您可以进行查看"}),e.reload()})).catch((function(t){e.$notify.error({title:"出错啦",message:"恢复问卷失败"})}))},Delete4ever:function(t){var e=this;this.$confirm("此操作将永久删除该问卷, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){v.a.delete("api/questionnaire/"+t+"/").then((function(t){e.$notify.success({title:"删除成功!",message:"问卷已彻底删除"}),e.reload()})).catch((function(t){e.$notify.error({title:"出错啦",message:"删除问卷失败"})}))}))}},mounted:function(){var t=this;y().then((function(e){e[0]&&v.a.get("/api/user/"+e[1]+"/recycle/").then((function(e){t.info=e.data,t.pageLength=parseInt((t.info.length+t.itemPerpage-1)/t.itemPerpage),console.log(t.info)})).catch((function(e){t.$notify.error({title:"好像发生了什么错误",message:e.message})}))}))}},_t=bt,yt=(n("e830"),n("db03"),Object(u["a"])(_t,vt,gt,!1,null,"550b9fd2",null)),xt=yt.exports;rt()(yt,{VApp:ct["a"],VCol:lt["a"],VContainer:ut["a"],VIcon:dt["a"],VPagination:pt["a"],VRow:ft["a"]});var kt={name:"Index",components:{Questionnaire:ht,Header:w},data:function(){return{info:{},avatar:null,name:"",content:"",uid:0,identity:localStorage.getItem("identity.myblog")}},methods:{toBook:function(){this.$router.push({path:"/book"})},editQues:function(){this.$router.push({path:"/questionnairs"})},toGroupIndex:function(){this.$router.push({path:"/group/index"})},toDiscuss:function(){this.$router.push({path:"/group/discuss"})},toQuestionnaire:function(){this.$router.push({path:"/questionnaires"}),console.log(this.$route.path)},toRecycleBin:function(){this.$router.push({path:"/recycle"})}}},qt=kt,wt=(n("7d56"),Object(u["a"])(qt,tt,et,!1,null,"48de49ea",null)),Ct=wt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("div",{staticClass:"questionnaire"},[n("h1",{staticClass:"title"},[t._v(t._s(t.info.title))]),n("div",{staticClass:"content"},[t._v(" "+t._s(t.info.content))]),n("div",{staticClass:"line"}),t._l(t.info.question_list,(function(e,i){return n("div",{key:i,staticClass:"question_block"},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"questionTitle"},[t._v(" "+t._s(i+1+". "+e.title)+" "),n("span",{staticStyle:{color:"#F56C6C"}},[e.is_must_answer?n("span",[t._v("*")]):t._e()])])]),"single-choice"===e.type?n("v-app",{staticClass:"choice"},[n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[n("v-radio-group",{model:{value:e.answer,callback:function(n){t.$set(e,"answer",n)},expression:"item.answer"}},t._l(e.option_list,(function(t){return n("v-radio",{key:t.id,attrs:{label:t.title}})})),1)],1)],1):t._e(),"multiple-choice"===e.type?n("v-app",{staticClass:"choice"},[n("v-container",{attrs:{fluid:""}},t._l(e.option_list,(function(e){return n("v-checkbox",{key:e.id,attrs:{label:e.title,"hide-details":""},model:{value:e.is_answer_choice,callback:function(n){t.$set(e,"is_answer_choice",n)},expression:"optionItem.is_answer_choice"}})})),1)],1):t._e(),"completion"===e.type?n("v-app",{staticClass:"choice"},[n("v-text-field",{attrs:{label:"请在此输入答案~","single-line":""},model:{value:e.answer,callback:function(n){t.$set(e,"answer",n)},expression:"item.answer"}})],1):t._e()],1)})),n("el-button",{attrs:{type:"primary"},on:{click:t.click}},[t._v("提交")])],2)])},Ft=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reminder"},[n("h4",[t._v("摸小鱼温馨提示：只能预览，不能提交哦~")])])}],St={name:"check",components:{},data:function(){return{single:0,multiple:[],questionnaire_id:1,content:"",info:"",answer_list:[]}},mounted:function(){var t=this,e=this;v.a.get("/api/questionnaire/"+this.$route.params.id).then((function(e){return t.info=e.data})).catch((function(t){e.$notify.error({title:"好像发生了什么错误",message:t.message})}))},methods:{click:function(){this.$notify.warning({title:"当前为预览",message:"无法提交"})}}},Dt=St,Vt=(n("166f"),n("ec0c"),n("ac7c")),jt=n("67b6"),Ot=n("43a6"),Rt=n("8654"),Qt=Object(u["a"])(Dt,$t,Ft,!1,null,"17ea605e",null),It=Qt.exports;rt()(Qt,{VApp:ct["a"],VCheckbox:Vt["a"],VContainer:ut["a"],VRadio:jt["a"],VRadioGroup:Ot["a"],VTextField:Rt["a"]});var Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["closed"===t.info.status?n("div",{staticClass:"reminder"},[n("h4",[t._v("摸小鱼温馨提示：当前问卷处于关闭状态，无法提交哦~")])]):t._e(),n("div",{staticClass:"questionnaire"},[n("h1",{staticClass:"title"},[t._v(t._s(t.info.title))]),n("div",{staticClass:"content"},[t._v(" "+t._s(t.info.content))]),n("div",{staticClass:"line"}),t._l(t.info.question_list,(function(e,i){return n("div",{key:i,staticClass:"question_block"},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"questionTitle"},[t._v(" "+t._s(i+1+". "+e.title)+" "),n("span",{staticStyle:{color:"#F56C6C"}},[e.is_must_answer?n("span",[t._v("*")]):t._e()])])]),"single-choice"===e.type?n("v-app",{staticClass:"choice"},[n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[n("v-radio-group",{model:{value:e.answer,callback:function(n){t.$set(e,"answer",n)},expression:"item.answer"}},t._l(e.option_list,(function(t){return n("v-radio",{key:t.id,attrs:{label:t.title}})})),1)],1)],1):t._e(),"multiple-choice"===e.type?n("v-app",{staticClass:"choice"},[n("v-container",{attrs:{fluid:""}},t._l(e.option_list,(function(e){return n("v-checkbox",{key:e.id,attrs:{label:e.title,"hide-details":""},model:{value:e.is_answer_choice,callback:function(n){t.$set(e,"is_answer_choice",n)},expression:"optionItem.is_answer_choice"}})})),1)],1):t._e(),"completion"===e.type?n("v-app",{staticClass:"choice"},[n("v-text-field",{attrs:{label:"请在此输入答案~","single-line":""},model:{value:e.answer,callback:function(n){t.$set(e,"answer",n)},expression:"item.answer"}})],1):t._e()],1)})),n("el-button",{attrs:{type:"primary"},on:{click:t.click}},[t._v("提交")])],2)])},Et=[],Pt=n("b85c"),zt={name:"FillQuestionnaire",components:{},data:function(){return{single:0,multiple:[],questionnaire_id:1,content:"",info:"",answer_list:[]}},mounted:function(){var t=this,e=this;console.log(this.$route.params.id),v.a.get("/api/questionnaire/"+e.$route.params.id+"/").then((function(e){return t.info=e.data})).catch((function(t){e.$notify.error({title:"好像发生了什么错误",message:t.message})}))},methods:{click:function(){var t=this;"closed"===this.info.status&&alert("此问卷暂未发布，无法填写！");var e,n=Object(Pt["a"])(this.info.question_list);try{for(n.s();!(e=n.n()).done;){var i=e.value;if("multiple-choice"===i.type){var s,o=Object(Pt["a"])(i.option_list);try{for(o.s();!(s=o.n()).done;){var a=s.value;if(!0===a.is_answer_choice){var r={questionnaire:t.info.id,question:i.id,option:a.id};t.answer_list.push(r)}}}catch(f){o.e(f)}finally{o.f()}}else if("single-choice"===i.type){var c,l=Object(Pt["a"])(i.option_list);try{for(l.s();!(c=l.n()).done;){var u=c.value;if(i.option_list.indexOf(u)===i.answer){var d={questionnaire:t.info.id,question:i.id,option:u.id};t.answer_list.push(d)}}}catch(f){l.e(f)}finally{l.f()}}else if("completion"===i.type){var p={questionnaire:t.info.id,question:i.id,option:1,content:i.answer};t.answer_list.push(p)}}}catch(f){n.e(f)}finally{n.f()}console.log(t.answer_list),v.a.post("/api/answer/",t.answer_list).then((function(e){t.$notify.success({title:"问卷提交成功",message:"芜湖"})})).catch((function(e){t.$notify.error({title:"好像发生了什么错误",message:e.message})}))}}},Bt=zt,Tt=(n("44b9"),n("ed39"),Object(u["a"])(Bt,Lt,Et,!1,null,"6596ccf0",null)),At=Tt.exports;rt()(Tt,{VApp:ct["a"],VCheckbox:Vt["a"],VContainer:ut["a"],VRadio:jt["a"],VRadioGroup:Ot["a"],VTextField:Rt["a"]});var Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-container",{staticClass:"main"},[n("el-container",[n("el-aside",{staticStyle:{height:"fit-content"},attrs:{width:"23%"}},[n("div",{staticClass:"aside-top"},[n("span",[t._v(" 题型选择 ")])]),n("el-menu",{staticClass:"aside-mid",attrs:{"text-color":"#1E90FF"}},t._l(t.menuList,(function(e){return n("el-submenu",{key:e.type,attrs:{index:e.type}},[n("template",{slot:"title"},[n("span",[t._v(t._s(e.name))])]),t._l(e.children,(function(e){return n("el-menu-item",{key:e.type,attrs:{index:e.type},on:{click:function(n){return t.addQuestion(e.type)}}},[n("template",{slot:"title"},[n("span",[t._v(t._s(e.name))])])],2)}))],2)})),1)],1),n("el-main",{staticClass:"questionnaire",staticStyle:{height:"fit-content"}},[n("div",{staticClass:"question-title"},[n("h2",[t._v(t._s(t.questionnair.title))])]),n("div",{staticClass:"intro"},[t._v(t._s(t.questionnair.content))]),t._l(t.questionnair.questions,(function(e,i){return n("el-card",{key:e.key},[n("div",{staticClass:"button-top"},[n("el-tooltip",{attrs:{placement:"top",content:"上移",effect:"dark",enterable:!1}},[n("el-button",{attrs:{icon:"el-icon-caret-top",type:"text"},on:{click:function(e){return t.cardUp(i)}}})],1),n("el-tooltip",{attrs:{placement:"top",content:"下移",effect:"dark",enterable:!1}},[n("el-button",{attrs:{icon:"el-icon-caret-bottom",type:"text"},on:{click:function(e){return t.cardDown(i)}}})],1),n("el-tooltip",{attrs:{placement:"top",content:"删除",effect:"dark",enterable:!1}},[n("el-button",{attrs:{icon:"el-icon-delete",type:"text"},on:{click:function(e){return t.cardDelete(i)}}})],1),n("el-tooltip",{attrs:{placement:"top",content:"复制",effect:"dark",enterable:!1}},[n("el-button",{attrs:{icon:"el-icon-copy-document",type:"text"},on:{click:function(e){return t.cardCopy(i)}}})],1)],1),"single-choice"===e.type?[n("div",[e.ismust?n("span",{staticStyle:{color:"#F56C6C"}},[t._v("* ")]):t._e(),n("span",[t._v(t._s(i+1)+". ")]),n("span",{staticStyle:{"margin-top":"20px"}},[t._v(" "+t._s(e.content)+" ")])]),n("el-radio-group",{model:{value:e.answer,callback:function(n){t.$set(e,"answer",n)},expression:"item.answer"}},t._l(e.groups,(function(e){return n("el-radio",{key:e.key,attrs:{label:e.key}},[t._v(" "+t._s(e.content)+" ")])})),1)]:t._e(),"multiple-choice"===e.type?[n("div",[e.ismust?n("span",{staticStyle:{color:"#F56C6C"}},[t._v("* ")]):t._e(),n("span",[t._v(t._s(i+1)+". ")]),n("span",{staticStyle:{"margin-top":"20px"}},[t._v(" "+t._s(e.content)+" ")])]),n("el-checkbox-group",{model:{value:e.answer,callback:function(n){t.$set(e,"answer",n)},expression:"item.answer"}},t._l(e.groups,(function(e){return n("el-checkbox",{key:e.key,attrs:{label:e.key}},[t._v(" "+t._s(e.content)+" ")])})),1)]:t._e(),"single-completion"===e.type?[n("div",[e.ismust?n("span",{staticStyle:{color:"#F56C6C"}},[t._v("* ")]):t._e(),n("span",[t._v(t._s(i+1)+". ")]),n("span",{staticStyle:{"margin-top":"20px"}},[t._v(" "+t._s(e.content)+" ")])]),n("el-input",{staticClass:"single-completion-input",attrs:{autosize:!0,type:"textarea",clearable:!0,resize:"none"},model:{value:e.answer,callback:function(n){t.$set(e,"answer",n)},expression:"item.answer"}})]:t._e(),"multiple-completion"===e.type?[n("div",[e.ismust?n("span",{staticStyle:{color:"#F56C6C"}},[t._v("* ")]):t._e(),n("span",[t._v(t._s(i+1)+". ")]),n("span",{staticStyle:{"margin-top":"20px"}},[t._v(" "+t._s(e.content)+" ")])]),t._l(e.groups,(function(i,s){return n("div",{key:i.key,staticClass:"multiple-completion-input"},[n("p",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(i.content))]),n("el-input",{staticClass:"single-completion-input",attrs:{autosize:!0,type:"textarea",clearable:!0,resize:"none"},model:{value:e.answer[s],callback:function(n){t.$set(e.answer,s,n)},expression:"item.answer[index]"}})],1)}))]:t._e(),n("div",{staticClass:"card-footer"},[n("el-button",{attrs:{icon:"el-icon-edit",type:"primary",size:"small"},on:{click:function(n){return t.editQuestion(e.type,i)}}},[t._v("编辑")])],1)],2)})),n("el-button",{staticClass:"main-footer",attrs:{type:"danger"}},[t._v("完成编辑")])],2)],1)],1),n("single-choice-add-card",{ref:"single-choice"}),n("multiple-choice-add-card",{ref:"multiple-choice"}),n("single-completion-add-card",{ref:"single-completion"}),n("multiple-completion-add-card",{ref:"multiple-completion"})],1)},Nt=[],Ut=(n("a434"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"添加题目(单选题)",width:"50%",visible:t.addDialogVisible},on:{"update:visible":function(e){t.addDialogVisible=e},close:t.cancelQuesiton}},[n("el-form",{ref:"questionFormRef",attrs:{model:t.questionForm,rules:t.questionFormRules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"题目表述",prop:"content"}},[n("el-input",{attrs:{placeholder:"请输入题目描述",autosize:!0,type:"textarea",clearable:!0,resize:"none"},model:{value:t.questionForm.content,callback:function(e){t.$set(t.questionForm,"content",e)},expression:"questionForm.content"}})],1),n("el-form-item",{attrs:{label:"是否必选",prop:"ismust"}},[n("el-switch",{attrs:{"active-color":"#409eff","inactive-color":"#dcdfe6"},model:{value:t.questionForm.ismust,callback:function(e){t.$set(t.questionForm,"ismust",e)},expression:"questionForm.ismust"}})],1),t._l(t.questionForm.groups,(function(e,i){return n("el-form-item",{key:e.key,attrs:{label:"选项 "+(i+1),prop:"groups."+i+".content",rules:{required:!0,message:"内容不能为空",trigger:"blur"}}},[n("el-input",{staticClass:"choiceinput",model:{value:e.content,callback:function(n){t.$set(e,"content",n)},expression:"choice.content"}}),n("el-button",{attrs:{type:"danger"},on:{click:function(n){return n.preventDefault(),t.removeChoice(e)}}},[t._v("删除")])],1)}))],2),n("div",{staticClass:"dialog-footer"},[n("el-button",{attrs:{icon:"el-icon-edit",type:"primary"},on:{click:t.addChoice}},[t._v("新增选项")]),n("div",[n("el-button",{attrs:{icon:"el-icon-check",type:"success"},on:{click:t.finishQuestion}},[t._v("完成")]),n("el-button",{attrs:{icon:"el-icon-close",type:"danger"},on:{click:t.cancelQuestion}},[t._v(" 取消")])],1)],1)],1)}),Ht=[],Mt={name:"single-choice-addcard",data:function(){return{temp:"",addDialogVisible:!1,questionForm:{content:"",ismust:!1,groups:[],answer:""},questionFormRules:{content:[{required:!0,message:"请填写题目描述",tragger:"blur"}]}}},methods:{resetForm:function(t){this.questionForm={key:Date.now(),type:t,content:"",ismust:!1,groups:[],answer:""}},addQuestion:function(t){this.resetForm(t),this.addDialogVisible=!0},editQuestion:function(t){this.temp=t,this.questionForm=JSON.parse(JSON.stringify(t)),this.addDialogVisible=!0},addChoice:function(){this.questionForm.groups.push({content:"",key:Date.now()})},removeChoice:function(t){var e=this.questionForm.groups.indexOf(t);-1!==e&&this.questionForm.groups.splice(e,1)},finishQuestion:function(){var t=this;this.$refs.questionFormRef.validate((function(e){if(!e)return t.$notify.error("表单有错误");if(0===t.questionForm.groups.length)return t.$notify.error("请至少添加一个选项哦");t.addDialogVisible=!1;var n=t.$parent.questionnair.questions.indexOf(t.temp);-1===n?t.$parent.questionnair.questions.push(t.questionForm):(t.$parent.questionnair.questions[n]=t.questionForm,t.$parent.$forceUpdate())}))},cancelQuestion:function(){this.$refs.questionFormRef.resetFields(),this.addDialogVisible=!1}}},Gt=Mt,Kt=(n("948a"),Object(u["a"])(Gt,Ut,Ht,!1,null,"6f19d183",null)),Wt=Kt.exports,Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"添加题目(多选题)",width:"50%",visible:t.addDialogVisible},on:{"update:visible":function(e){t.addDialogVisible=e},close:t.cancelQuesiton}},[n("el-form",{ref:"questionFormRef",attrs:{model:t.questionForm,rules:t.questionFormRules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"题目表述",prop:"content"}},[n("el-input",{attrs:{placeholder:"请输入题目描述",autosize:!0,type:"textarea",clearable:!0,resize:"none"},model:{value:t.questionForm.content,callback:function(e){t.$set(t.questionForm,"content",e)},expression:"questionForm.content"}})],1),n("el-form-item",{attrs:{label:"是否必选",prop:"ismust"}},[n("el-switch",{attrs:{"active-color":"#409eff","inactive-color":"#dcdfe6"},model:{value:t.questionForm.ismust,callback:function(e){t.$set(t.questionForm,"ismust",e)},expression:"questionForm.ismust"}})],1),t._l(t.questionForm.groups,(function(e,i){return n("el-form-item",{key:e.key,attrs:{label:"选项 "+(i+1),prop:"groups."+i+".content",rules:{required:!0,message:"内容不能为空",trigger:"blur"}}},[n("el-input",{staticClass:"choiceinput",model:{value:e.content,callback:function(n){t.$set(e,"content",n)},expression:"choice.content"}}),n("el-button",{attrs:{type:"danger"},on:{click:function(n){return n.preventDefault(),t.removeChoice(e)}}},[t._v("删除")])],1)}))],2),n("div",{staticClass:"dialog-footer"},[n("el-button",{attrs:{icon:"el-icon-edit",type:"primary"},on:{click:t.addChoice}},[t._v("新增选项")]),n("div",[n("el-button",{attrs:{icon:"el-icon-check",type:"success"},on:{click:t.finishQuestion}},[t._v("完成")]),n("el-button",{attrs:{icon:"el-icon-close",type:"danger"},on:{click:t.cancelQuestion}},[t._v(" 取消")])],1)],1)],1)},Zt=[],Xt={name:"mutiple-choice-addcard",data:function(){return{addDialogVisible:!1,questionForm:{},questionFormRules:{content:[{required:!0,message:"请填写题目描述",tragger:"blur"}]}}},methods:{resetForm:function(t){this.questionForm={key:Date.now(),type:t,content:"",ismust:!1,groups:[],answer:[]}},addQuestion:function(t){this.resetForm(t),this.addDialogVisible=!0},editQuestion:function(t){this.temp=t,this.questionForm=JSON.parse(JSON.stringify(t)),this.addDialogVisible=!0},addChoice:function(){this.questionForm.groups.push({content:"",key:Date.now()})},removeChoice:function(t){var e=this.questionForm.groups.indexOf(t);-1!==e&&this.questionForm.groups.splice(e,1)},finishQuestion:function(){var t=this;this.$refs.questionFormRef.validate((function(e){if(!e)return t.$notify.error("表单有错误");if(0===t.questionForm.groups.length)return t.$notify.error("请至少添加一个选项哦");t.addDialogVisible=!1;var n=t.$parent.questionnair.questions.indexOf(t.questionForm);-1===n?t.$parent.questionnair.questions.push(t.questionForm):(t.$parent.questionnair.questions[n]=t.questionForm,t.$parent.$forceUpdate())}))},cancelQuestion:function(){this.$refs.questionFormRef.resetFields(),this.addDialogVisible=!1}}},te=Xt,ee=(n("7d1d"),Object(u["a"])(te,Yt,Zt,!1,null,"1fc9048f",null)),ne=ee.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("footer",{staticClass:"wavefooter"},[n("svg",{staticClass:"waves",attrs:{viewBox:"0 24 150 28",preserveAspectRatio:"none","shape-rendering":"auto"}},[n("defs",[n("path",{attrs:{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"}})]),n("g",{staticClass:"parallax"},[n("use",{attrs:{"xlink:href":"#gentle-wave",x:"48",y:"0",fill:"rgba(118, 218, 255, 1)"}}),n("use",{attrs:{"xlink:href":"#gentle-wave",x:"48",y:"3",fill:"rgba(118, 218, 255, 0.5)"}}),n("use",{attrs:{"xlink:href":"#gentle-wave",x:"48",y:"5",fill:"rgba(118, 218, 255, 0.3)"}}),n("use",{attrs:{"xlink:href":"#gentle-wave",x:"48",y:"7",fill:"rgba(118, 218, 255, 0.1)"}})])])])])},se=[],oe={name:"wave"},ae=oe,re=(n("50d7"),Object(u["a"])(ae,ie,se,!1,null,"82b12a44",null)),ce=re.exports,le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"添加题目(单项填空题)",width:"50%",visible:t.addDialogVisible},on:{"update:visible":function(e){t.addDialogVisible=e},close:t.cancelQuesiton}},[n("el-form",{ref:"questionFormRef",attrs:{model:t.questionForm,rules:t.questionFormRules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"题目表述",prop:"content"}},[n("el-input",{attrs:{placeholder:"请输入题目描述",autosize:!0,type:"textarea",clearable:!0,resize:"none"},model:{value:t.questionForm.content,callback:function(e){t.$set(t.questionForm,"content",e)},expression:"questionForm.content"}})],1),n("el-form-item",{attrs:{label:"是否必选",prop:"ismust"}},[n("el-switch",{attrs:{"active-color":"#409eff","inactive-color":"#dcdfe6"},model:{value:t.questionForm.ismust,callback:function(e){t.$set(t.questionForm,"ismust",e)},expression:"questionForm.ismust"}})],1)],1),n("div",{staticClass:"dialog-footer"},[n("span"),n("div",[n("el-button",{attrs:{icon:"el-icon-check",type:"success"},on:{click:t.finishQuestion}},[t._v("完成")]),n("el-button",{attrs:{icon:"el-icon-close",type:"danger"},on:{click:t.cancelQuestion}},[t._v(" 取消")])],1)])],1)},ue=[],de={name:"single-completion-add-card",data:function(){return{temp:"",addDialogVisible:!1,questionForm:{content:"",ismust:!1,groups:[],answer:""},questionFormRules:{content:[{required:!0,message:"请填写题目描述",tragger:"blur"}]}}},methods:{resetForm:function(t){this.questionForm={key:Date.now(),type:t,content:"",ismust:!1,groups:[],answer:""}},addQuestion:function(t){this.resetForm(t),this.addDialogVisible=!0},editQuestion:function(t){this.temp=t,this.questionForm=JSON.parse(JSON.stringify(t)),this.addDialogVisible=!0},addChoice:function(){this.questionForm.groups.push({content:"",key:Date.now()})},finishQuestion:function(){var t=this;this.$refs.questionFormRef.validate((function(e){if(!e)return t.$notify.error("表单有错误");t.addDialogVisible=!1;var n=t.$parent.questionnair.questions.indexOf(t.questionForm);-1===n?t.$parent.questionnair.questions.push(t.questionForm):(t.$parent.questionnair.questions[n]=t.questionForm,t.$parent.$forceUpdate())}))},cancelQuestion:function(){this.$refs.questionFormRef.resetFields(),this.addDialogVisible=!1}}},pe=de,fe=(n("d84e"),Object(u["a"])(pe,le,ue,!1,null,"296d8efc",null)),me=fe.exports,he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"添加题目(多项填空题)",width:"50%",visible:t.addDialogVisible},on:{"update:visible":function(e){t.addDialogVisible=e},close:t.cancelQuesiton}},[n("el-form",{ref:"questionFormRef",attrs:{model:t.questionForm,rules:t.questionFormRules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"题目表述",prop:"content"}},[n("el-input",{attrs:{placeholder:"请输入题目描述",autosize:!0,type:"textarea",clearable:!0,resize:"none"},model:{value:t.questionForm.content,callback:function(e){t.$set(t.questionForm,"content",e)},expression:"questionForm.content"}})],1),n("el-form-item",{attrs:{label:"是否必选",prop:"ismust"}},[n("el-switch",{attrs:{"active-color":"#409eff","inactive-color":"#dcdfe6"},model:{value:t.questionForm.ismust,callback:function(e){t.$set(t.questionForm,"ismust",e)},expression:"questionForm.ismust"}})],1),t._l(t.questionForm.groups,(function(e,i){return n("el-form-item",{key:e.key,attrs:{label:"填空 "+(i+1),prop:"groups."+i+".content",rules:{required:!0,message:"内容不能为空",trigger:"blur"}}},[n("el-input",{staticClass:"choiceinput",model:{value:e.content,callback:function(n){t.$set(e,"content",n)},expression:"choice.content"}}),n("el-button",{attrs:{type:"danger"},on:{click:function(n){return n.preventDefault(),t.removeChoice(e)}}},[t._v("删除")])],1)}))],2),n("div",{staticClass:"dialog-footer"},[n("el-button",{attrs:{icon:"el-icon-edit",type:"primary"},on:{click:t.addChoice}},[t._v("新增选项")]),n("div",[n("el-button",{attrs:{icon:"el-icon-check",type:"success"},on:{click:t.finishQuestion}},[t._v("完成")]),n("el-button",{attrs:{icon:"el-icon-close",type:"danger"},on:{click:t.cancelQuestion}},[t._v(" 取消")])],1)],1)],1)},ve=[],ge={name:"multiple-completion-addcard",data:function(){return{addDialogVisible:!1,questionForm:{content:"",ismust:!1,groups:[],answer:""},questionFormRules:{content:[{required:!0,message:"请填写题目描述",tragger:"blur"}]}}},methods:{resetForm:function(t){this.questionForm={key:Date.now(),type:t,content:"",ismust:!1,groups:[],answer:[]}},addQuestion:function(t){this.resetForm(t),this.addDialogVisible=!0},editQuestion:function(t){console.log(t),this.questionForm=t,this.addDialogVisible=!0},addChoice:function(){this.questionForm.groups.push({content:"",key:Date.now()}),this.questionForm.answer.push("")},removeChoice:function(t){var e=this.questionForm.groups.indexOf(t);-1!==e&&this.questionForm.groups.splice(e,1)},finishQuestion:function(){var t=this;this.$refs.questionFormRef.validate((function(e){if(!e)return t.$notify.error("表单有错误");if(0===t.questionForm.groups.length)return t.$notify.error("请至少添加一个选项哦");t.addDialogVisible=!1;var n=t.$parent.questionnair.questions.indexOf(t.questionForm);-1===n?t.$parent.questionnair.questions.push(t.questionForm):(t.$parent.questionnair.questions[n]=t.questionForm,t.$parent.$forceUpdate())}))},cancelQuestion:function(){console.log(111),this.$refs.questionFormRef.resetFields(),this.addDialogVisible=!1}}},be=ge,_e=(n("1dd7"),Object(u["a"])(be,he,ve,!1,null,"318ed9cf",null)),ye=_e.exports,xe={components:{SingleChoiceAddCard:Wt,Wave:ce,MultipleChoiceAddCard:ne,SingleCompletionAddCard:me,MultipleCompletionAddCard:ye},data:function(){return{menuList:[{name:"选择题",type:"choice",children:[{name:"单选题",type:"single-choice"},{name:"多选题",type:"multiple-choice"}]},{name:"填空题",type:"completion",children:[{name:"单项填空",type:"single-completion"},{name:"多项填空",type:"multiple-completion"}]}],questionnair:{title:"ABCDEFG",content:"求求各位姥爷填一下小的问卷吧",questions:[{content:"第一题",answer:"",key:1,type:"single-choice",ismust:1,groups:[{content:"xxx",key:2},{content:"xxx",key:3}]},{content:"第二题",answer:[],key:4,type:"multiple-choice",ismust:1,groups:[{content:"xxx",key:5},{content:"xxxxx",key:6}]},{content:"第三题",answer:[],key:7,type:"single-completion",ismust:1,groups:[{content:"xxx",key:8}]},{content:"第四题",answer:[],key:9,type:"multiple-completion",ismust:1,groups:[{content:"xxx",key:10}]}]}}},methods:{addQuestion:function(t){this.$refs[t].addQuestion(t)},editQuestion:function(t,e){this.$refs[t].editQuestion(this.questionnair.questions[e])},cardUp:function(t){if(0===t)return this.$notify.error("已经到顶了啊");var e=this.questionnair.questions[t];this.questionnair.questions[t]=this.questionnair.questions[t-1],this.questionnair.questions[t-1]=e,this.$forceUpdate()},cardDown:function(t){if(t===this.questionnair.questions.length-1)return this.$notify.error("不能继续往下了");var e=this.questionnair.questions[t];this.questionnair.questions[t]=this.questionnair.questions[t+1],this.questionnair.questions[t+1]=e,this.$forceUpdate()},cardDelete:function(t){this.questionnair.questions.splice(t,1)},cardCopy:function(t){this.questionnair.questions.push(JSON.parse(JSON.stringify(this.questionnair.questions[t])))}}},ke=xe,qe=(n("5877"),Object(u["a"])(ke,Jt,Nt,!1,null,"139323c0",null)),we=qe.exports;i["default"].use(D["a"]);var Ce=[{path:"/",name:"Index",component:Ct,children:[{path:"",name:"Questionnaire",component:ht,meta:{title:"摸鱼问卷"}}]},{path:"/login",name:"Login",component:T},{path:"/register",name:"Register",component:X},{path:"/index",name:"Index",component:Ct,children:[{path:"",name:"Questionnaire",component:ht,meta:{title:"全部问卷"}},{path:"/questionnaires",name:"Questionnaire",component:ht,meta:{title:"创建问卷"}},{path:"/recycle",name:"RecycleBin",component:xt,meta:{title:"回收站"}}]},{path:"/check/:id",name:"check",component:It},{path:"/fill/:id",name:"fill",component:At},{path:"/questionnairs",name:"Questionnairs",component:we},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],$e=new D["a"]({mode:"history",base:"/",routes:Ce}),Fe=$e,Se=n("2f62");i["default"].use(Se["a"]);var De=new Se["a"].Store({state:{isLogin:!1},mutations:{login:function(t){t.isLogin=!0},logout:function(t){t.isLogin=!1}},actions:{},modules:{}}),Ve=n("5c96"),je=n.n(Ve),Oe=(n("0fae"),n("f309"));i["default"].use(Oe["a"]);var Re=new Oe["a"]({});i["default"].config.productionTip=!1,i["default"].use(je.a),Fe.beforeEach((function(t,e,n){t.meta.title&&(document.title=t.meta.title),n()})),new i["default"]({router:Fe,store:De,vuetify:Re,render:function(t){return t(S)}}).$mount("#app")},5877:function(t,e,n){"use strict";n("0bc4")},"5fbe":function(t,e,n){t.exports=n.p+"img/logo2.2525784c.png"},"630e":function(t,e,n){},"77af":function(t,e,n){},"7d1d":function(t,e,n){"use strict";n("e966")},"7d56":function(t,e,n){"use strict";n("8904")},"85ec":function(t,e,n){},8904:function(t,e,n){},"8a64":function(t,e,n){},"948a":function(t,e,n){"use strict";n("46ee")},"9d5c":function(t,e,n){"use strict";n("150e")},add9:function(t,e,n){"use strict";n("b198")},b198:function(t,e,n){},b23f:function(t,e,n){},c9d3:function(t,e,n){},cf33:function(t,e,n){},d84e:function(t,e,n){"use strict";n("fd4d")},db03:function(t,e,n){"use strict";n("3cb1")},e33b:function(t,e,n){},e39d:function(t,e,n){},e617:function(t,e,n){},e830:function(t,e,n){"use strict";n("b23f")},e966:function(t,e,n){},ec0c:function(t,e,n){"use strict";n("cf33")},ed39:function(t,e,n){"use strict";n("3fc4")},fd4d:function(t,e,n){}});
//# sourceMappingURL=app.28da8680.js.map